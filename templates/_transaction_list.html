{% for t in transactions %}
<li class="transaction-item">
    <div class="transaction-details">
        <span class="transaction-description">{{ t.Transaction.description }}</span>
        <span class="transaction-meta">{{ t.category_name or 'Uncategorized' }} &middot; {{ t.Transaction.date.strftime('%Y-%m-%d') }}</span>
    </div>
    <div class="transaction-right">
        <div class="transaction-amount {% if t.Transaction.amount >= 0 %}positive{% else %}negative{% endif %}">
            {{ current_user.currency }}{% if t.Transaction.amount >= 0 %}+{% else %}-{% endif %}{{ (t.Transaction.amount|abs)|format_number }}
        </div>
        <div class="transaction-actions">
            <button class="icon-btn edit-transaction-btn" title="Edit Transaction"
                    data-transaction-id="{{ t.Transaction.id }}"
                    data-transaction-description="{{ t.Transaction.description | urlencode }}"
                    data-transaction-amount="{{ t.Transaction.amount }}"
                    data-transaction-category-id="{{ t.Transaction.category_id }}">
                <span class="material-icons-outlined">edit</span>
            </button>
            <button class="icon-btn delete-btn delete-transaction-btn" title="Delete Transaction"
                    data-transaction-id="{{ t.Transaction.id }}">
                <span class="material-icons-outlined">delete</span>
            </button>
        </div>
    </div>
</li>
{% else %}
<li class="empty-list-message" style="display: block; text-align: center; padding: 2rem 0; color: var(--muted-foreground);">No transactions found.</li>
{% endfor %}
